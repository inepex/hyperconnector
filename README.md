# hyperconnector
Hyperconnector aims to bring a JPA like technology to Hypertable

<div id="wikicontent">
 <div class="vt" id="wikimaincol">
 <h2><a name="Create_a_project"></a>Create a project<a href="#Create_a_project" class="section_anchor"></a></h2><p>To create a sample project we suggest to use maven ( <a href="http://maven.apache.org/download.html" rel="nofollow">http://maven.apache.org/download.html</a> ). </p><p>You can create a sample maven project with the next command: </p><pre class="prettyprint"><span class="pln">&nbsp;mvn archetype</span><span class="pun">:</span><span class="pln">generate </span><span class="pun">-</span><span class="typ">DgroupId</span><span class="pun">=</span><span class="pln">com</span><span class="pun">.</span><span class="pln">inepex</span><span class="pun">.</span><span class="pln">example </span><span class="pun">-</span><span class="typ">DartifactId</span><span class="pun">=</span><span class="pln">hyperconnectorexample </span><span class="pun">-</span><span class="typ">DarchetypeArtifactId</span><span class="pun">=</span><span class="pln">maven</span><span class="pun">-</span><span class="pln">archetype</span><span class="pun">-</span><span class="pln">quickstart </span><span class="pun">-</span><span class="typ">DinteractiveMode</span><span class="pun">=</span><span class="kwd">false</span><span class="pln"><br>&nbsp;</span></pre> then create the eclipse project files with the next command: <pre class="prettyprint"><span class="pln">mvn eclipse</span><span class="pun">:</span><span class="pln">eclipse</span></pre> Now you can import the project into Eclipse (File &gt; Import &gt; Existing project into workspace)<br><br> Now you should add the following lines to your <i>pom.xml</i>: <p></p><pre class="prettyprint"><span class="tag">&lt;repositories&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;repository&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;id&gt;</span><span class="pln">inepex</span><span class="tag">&lt;/id&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;name&gt;</span><span class="pln">inepex</span><span class="tag">&lt;/name&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;url&gt;</span><span class="pln">http://maven.inepex.com/content/repositories/thirdparty/</span><span class="tag">&lt;/url&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;/repository&gt;</span><span class="pln"><br></span><span class="tag">&lt;/repositories&gt;</span><span class="pln"><br><br></span><span class="tag">&lt;build&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;resources&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;resource&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;directory&gt;</span><span class="pln">src/main/java</span><span class="tag">&lt;/directory&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;/resource&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;/resources&gt;</span><span class="pln"><br></span><span class="tag">&lt;/build&gt;</span><span class="pln"><br><br></span><span class="tag">&lt;dependencies&gt;</span><span class="pln"><br></span><span class="com">&lt;!-- ...here are you other dependencies... --&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;dependency&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;groupId&gt;</span><span class="pln">com.inepex</span><span class="tag">&lt;/groupId&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">hyperconnector</span><span class="tag">&lt;/artifactId&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;version&gt;</span><span class="pln">0.9.0.6</span><span class="tag">&lt;/version&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;scope&gt;</span><span class="pln">compile</span><span class="tag">&lt;/scope&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;/dependency&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;dependency&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;groupId&gt;</span><span class="pln">junit</span><span class="tag">&lt;/groupId&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">junit</span><span class="tag">&lt;/artifactId&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;version&gt;</span><span class="pln">4.8.2</span><span class="tag">&lt;/version&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;scope&gt;</span><span class="pln">test</span><span class="tag">&lt;/scope&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;/dependency&gt;</span><span class="pln"><br></span><span class="tag">&lt;/dependencies&gt;</span></pre><p>... and now again run <tt>mvn eclipse:eclipse</tt> in command line (from the root folder of the project). After all refresh the project in eclipse. </p><h2><a name="Check_out_hyperconnectortemplates"></a>Check out <i>hyperconnectortemplates</i><a href="#Check_out_hyperconnectortemplates" class="section_anchor"></a></h2><p>You should check out the hyperconnectortemplates project what contains all of the template files that are neccessary to code-generation. Repository location: <a href="http://hyperconnector.googlecode.com/svn/hyperconnectortemplates/" rel="nofollow">http://hyperconnector.googlecode.com/svn/hyperconnectortemplates/</a> <br><br> Your project should seem like this: <br><br> <img src="http://hyperconnector.googlecode.com/svn/wiki/projectState1.jpg"> </p><h2><a name="Create_an_entity"></a>Create an entity<a href="#Create_an_entity" class="section_anchor"></a></h2><p>Like in JPA, an entity is a Java POJO annotated with the specific annotations.<br><br> The example is based on a ticketing system and we will store Tickets. A ticket is built up from: </p><ul><li>Title: the title of the ticket (ie.: Server update) </li><li>Description: description of the ticket (ie.: New kernel is available, you shoud update to the new one.) </li><li>Priority: the priority of the ticket (ie.: 5) </li><li>Problem type: the type of the ticket (ie.: Update) </li><li>Is Fixed: is the task has done (ie.: false) </li></ul><p></p><p>And the ticket representing with java object (using the HyperConnector annotations): <br><br> </p><pre class="prettyprint"><span class="lit">@HyperEntity</span><span class="pun">(</span><span class="kwd">namespace</span><span class="pun">=</span><span class="str">"UserSupport"</span><span class="pun">,</span><span class="pln"> table</span><span class="pun">=</span><span class="str">"Ticket"</span><span class="pun">,</span><span class="pln"> rowKeySerializationType </span><span class="pun">=</span><span class="pln"> </span><span class="typ">SerializationTypes</span><span class="pun">.</span><span class="pln">PLAIN</span><span class="pun">,</span><span class="pln"> globalValueSerializationType </span><span class="pun">=</span><span class="pln"> </span><span class="typ">SerializationTypes</span><span class="pun">.</span><span class="pln">PLAIN</span><span class="pun">,</span><span class="pln"> globalColumnQualifierSerializationType</span><span class="pun">=</span><span class="typ">SerializationTypes</span><span class="pun">.</span><span class="pln">PLAIN</span><span class="pun">)</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Ticket</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">@RowKeyField</span><span class="pun">(</span><span class="pln">order</span><span class="pun">=</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> sortOrder</span><span class="pun">=</span><span class="typ">SortOrders</span><span class="pun">.</span><span class="pln">ASCENDING</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> server</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">@Timestamp</span><span class="pun">(</span><span class="pln">assignmentType</span><span class="pun">=</span><span class="typ">TimestampAssignmentTypes</span><span class="pun">.</span><span class="pln">MANUAL</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> timestamp</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">@ValueField</span><span class="pun">(</span><span class="pln">columnFamily</span><span class="pun">=</span><span class="str">"title"</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> title</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">@ValueField</span><span class="pun">(</span><span class="pln">columnFamily</span><span class="pun">=</span><span class="str">"description"</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> description</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">@ValueField</span><span class="pun">(</span><span class="pln">columnFamily</span><span class="pun">=</span><span class="str">"priority"</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> priority</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">@ValueField</span><span class="pun">(</span><span class="pln">columnFamily</span><span class="pun">=</span><span class="str">"problemtype"</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> problemType</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">@ValueField</span><span class="pun">(</span><span class="pln">columnFamily</span><span class="pun">=</span><span class="str">"isFixed"</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> isFixed</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getServer</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> server</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setServer</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> server</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">server </span><span class="pun">=</span><span class="pln"> server</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> getTimestamp</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> timestamp</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setTimestamp</span><span class="pun">(</span><span class="kwd">long</span><span class="pln"> timestamp</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">timestamp </span><span class="pun">=</span><span class="pln"> timestamp</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getTitle</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> title</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setTitle</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> title</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getDescription</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> description</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setDescription</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> description</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">description </span><span class="pun">=</span><span class="pln"> description</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getPriority</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> priority</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setPriority</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> priority</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">priority </span><span class="pun">=</span><span class="pln"> priority</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getProblemType</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> problemType</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setProblemType</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> problemType</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">problemType </span><span class="pun">=</span><span class="pln"> problemType</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> getIsFixed</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> isFixed</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setIsFixed</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> isFixed</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isFixed </span><span class="pun">=</span><span class="pln"> isFixed</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="pun">}</span></pre><h2><a name="Generate_classes"></a>Generate classes<a href="#Generate_classes" class="section_anchor"></a></h2><p>Assuming that you have classtemplater plugin: </p><ol><li>Right click on Ticket.java file </li><li>Select classtemplater &gt; Generate... </li></ol><img src="http://hyperconnector.googlecode.com/svn/wiki/generateCode1.jpg"> <br><br> In the pop-up window: <ol><li>Select the following items from the list: </li><ul><li>hyperconnectortemplates - dao.vm </li><li>hyperconnectortemplates - hql.vm </li><li>hyperconnectortemplates - mapper.vm </li></ul><li>Check <i>Format code</i> checkbox </li><li>Click <i>Save and organize (expreimental)</i> button! </li></ol><i>IMPORTANT: classtemplater plugin not handle properly .hql output, so we suggest to generate the HQL file seperately! (First generate: Dao + mapper; Second generate: Hql)</i> <img src="http://hyperconnector.googlecode.com/svn/wiki/generateCode2.jpg"> <br><br> ...and the result: <br><br> <img src="http://hyperconnector.googlecode.com/svn/wiki/generateCode3.jpg"> <p></p><h2><a name="Create_Database"></a>Create Database<a href="#Create_Database" class="section_anchor"></a></h2><p>As you can see after the code generation you have a <i>Ticket.hql</i> file. This file contains the HQL command that creates the data table in Hypertable. </p><ol><li>Open the Ticket.hql </li><li>Select all of the lines </li><li>Copy and paste it to the Hypertable's shell </li><li>Press enter </li></ol>Now, your data tables are ready to use! <p></p><h2><a name="Configure_access_to_database"></a>Configure access to database<a href="#Configure_access_to_database" class="section_anchor"></a></h2><p>We suggest to create a configurator class (call it now HyperConfigurator). It has a static method that gives back a HyperPoolArgs object what contains the specific connection informations.<br><br> </p><p>You have to modify: </p><ul><li>server's IP address </li><li>server's port number (but 38080 is the hypertable's default) </li></ul><p></p><pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HyperConfigurator</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">HyperPoolArgs</span><span class="pln"> getHPA</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// address and port</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> hypertableServerAddress </span><span class="pun">=</span><span class="pln"> </span><span class="str">"192.168.1.1"</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> hypertableServerPort </span><span class="pun">=</span><span class="pln"> </span><span class="lit">38080</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// other settings</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> maxWaitMillis </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> tryGetCount </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> tryCreateCount </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> insertFlags </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> insertFlushInterval </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Client pool and Service pool</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">HyperClientPool</span><span class="pln"> hyperClientPool </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HyperClientPool</span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hypertableServerAddress</span><span class="pun">,</span><span class="pln"> hypertableServerPort</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">HyperHqlServicePool</span><span class="pln"> hyperHqlServicePool </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HyperHqlServicePool</span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hypertableServerAddress</span><span class="pun">,</span><span class="pln"> hypertableServerPort</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// create the pool args</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">HyperPoolArgs</span><span class="pln"> hyperPoolArgs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HyperPoolArgs</span><span class="pun">(</span><span class="pln">hyperClientPool</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hyperHqlServicePool</span><span class="pun">,</span><span class="pln"> maxWaitMillis</span><span class="pun">,</span><span class="pln"> tryGetCount</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tryCreateCount</span><span class="pun">,</span><span class="pln"> insertFlags</span><span class="pun">,</span><span class="pln"> insertFlushInterval</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> hyperPoolArgs</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre><h2><a name="Insert_and_select_Ticket_from_Hypertable"></a>Insert and select Ticket from Hypertable<a href="#Insert_and_select_Ticket_from_Hypertable" class="section_anchor"></a></h2><p>Try out what we've done! To do this create a test in the test package </p><pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">InsertTest</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">@Test</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> insertTickets</span><span class="pun">()</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">HyperOperationException</span><span class="pun">,</span><span class="pln"> </span><span class="typ">HyperMappingException</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//CREATE A NEW TICKET</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Ticket</span><span class="pln"> server_update </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Ticket</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//Set the name of the server (this will be the key in Hypertable)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; server_update</span><span class="pun">.</span><span class="pln">setServer</span><span class="pun">(</span><span class="str">"Blade66"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//Set the timestamp of the Ticket</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; server_update</span><span class="pun">.</span><span class="pln">setTimestamp</span><span class="pun">(</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="pln">currentTimeMillis</span><span class="pun">()</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//Set the other properties of the Ticket</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; server_update</span><span class="pun">.</span><span class="pln">setTitle</span><span class="pun">(</span><span class="str">"Kernel update"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; server_update</span><span class="pun">.</span><span class="pln">setDescription</span><span class="pun">(</span><span class="str">"New kernel version is available, you should update to it!"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; server_update</span><span class="pun">.</span><span class="pln">setProblemType</span><span class="pun">(</span><span class="str">"UPDATE"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; server_update</span><span class="pun">.</span><span class="pln">setPriority</span><span class="pun">(</span><span class="str">"HIGH"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; server_update</span><span class="pun">.</span><span class="pln">setIsFixed</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//CONFIGURING ACCESS TO THE DATABASE</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">TicketDao</span><span class="pln"> dao </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TicketDao</span><span class="pun">(</span><span class="pln"> </span><span class="typ">HyperConfigurator</span><span class="pun">.</span><span class="pln">getHPA</span><span class="pun">()</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//insert the Ticket</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dao</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">server_update</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//get all of the tickets</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">Ticket</span><span class="pun">&gt;</span><span class="pln"> ticket_result </span><span class="pun">=</span><span class="pln"> dao</span><span class="pun">.</span><span class="pln">selectAll</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="typ">Ticket</span><span class="pln"> t </span><span class="pun">:</span><span class="pln"> ticket_result</span><span class="pun">){</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Server: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getServer</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Title: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getTitle</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Description: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getDescription</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Problem type: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getProblemType</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Priority: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getPriority</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Is Fixed?"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getIsFixed</span><span class="pun">());</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre><h2><a name="Create_complex_selects"></a>Create complex selects<a href="#Create_complex_selects" class="section_anchor"></a></h2><p>If you would like to create any other select than <i>selectAll()</i> (and you may want :)), then we suggest to extend the generated DAO and implement your own selects (<i>In the future we would like to generate the specific selects based on annotations, but now it's just not implemented!</i>). Lets see an example extend based on TicketDao: </p><ol><li>Extend the generated DAO class </li><li>Create method that creates your ScanSpec </li><li>Create public method that gets the parameters </li><ol><li>Give these parameters to the ScanSpec creator method </li><li>Give this ScanSpec to the <tt>selec(ScanSpec ss)</tt> method </li><li>Give the select's result to the <tt>mapper.cellListToHyperEntityList(...)</tt> </li><li>return the mapper's result to the caller </li><p></p><pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TicketDaoExt</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">TicketDao</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">TicketDaoExt</span><span class="pun">(</span><span class="typ">HyperPoolArgs</span><span class="pln"> hyperClientPoolArgs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">(</span><span class="pln">hyperClientPoolArgs</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ScanSpec</span><span class="pln"> getScanSpec_ByServerTimestampRange</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> server</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> timestamp_start</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> timestamp_end</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ScanSpec</span><span class="pln"> ss </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ScanSpec</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">CellInterval</span><span class="pun">&gt;</span><span class="pln"> cis </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ArrayList</span><span class="pun">&lt;</span><span class="typ">CellInterval</span><span class="pun">&gt;();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">CellInterval</span><span class="pln"> ci </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">CellInterval</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//select all of the user's ticket</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> rk_start </span><span class="pun">=</span><span class="pln"> server</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> rk_end </span><span class="pun">=</span><span class="pln"> server</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ci</span><span class="pun">.</span><span class="pln">setStart_row</span><span class="pun">(</span><span class="pln">rk_start</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ci</span><span class="pun">.</span><span class="pln">setEnd_row</span><span class="pun">(</span><span class="pln">rk_end</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ci</span><span class="pun">.</span><span class="pln">setStart_inclusive</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ci</span><span class="pun">.</span><span class="pln">setEnd_inclusive</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ci</span><span class="pun">.</span><span class="pln">setStart_column</span><span class="pun">(</span><span class="pln">firstColumn</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ci</span><span class="pun">.</span><span class="pln">setEnd_column</span><span class="pun">(</span><span class="pln">lastColumn</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cis</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">ci</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">cell_intervals </span><span class="pun">=</span><span class="pln"> cis</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//add the necessary columns</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">columns </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ArrayList</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">columns</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">column_description</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">columns</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">column_isFixed</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">columns</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">column_priority</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">columns</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">column_problemtype</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">columns</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">column_title</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//set start and end timestamp</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">setStart_time</span><span class="pun">(</span><span class="pln">timestamp_start</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ss</span><span class="pun">.</span><span class="pln">setEnd_time</span><span class="pun">(</span><span class="pln">timestamp_end</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> ss</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">Ticket</span><span class="pun">&gt;</span><span class="pln"> selectByServerTimestampRange</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> server</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> timestamp_start</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> timestamp_end</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">HyperOperationException</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> mapper</span><span class="pun">.</span><span class="pln">cellListToHyperEntityList</span><span class="pun">(</span><span class="kwd">select</span><span class="pun">(</span><span class="pln">getScanSpec_ByServerTimestampRange</span><span class="pun">(</span><span class="pln">server</span><span class="pun">,</span><span class="pln"> timestamp_start</span><span class="pun">,</span><span class="pln"> timestamp_end</span><span class="pun">)));</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteByServerTimestampRange</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> server</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> timestamp_start</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> timestamp_end</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">HyperOperationException</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">delete</span><span class="pun">(</span><span class="pln">getScanSpec_ByServerTimestampRange</span><span class="pun">(</span><span class="pln">server</span><span class="pun">,</span><span class="pln"> timestamp_start</span><span class="pun">,</span><span class="pln"> timestamp_end</span><span class="pun">));</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre></ol></ol><p>And thats all! </p>
 </div>
 </div>
